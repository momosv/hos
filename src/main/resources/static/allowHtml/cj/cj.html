<!DOCTYPE html>
<html >
<head>
    <meta charset="UTF-8">
    <title>Insert title here</title>
    <script src="/webjars/jquery/1.11.1/jquery.min.js"></script>
    <script type="text/javascript" src="/webjars/bootstrap/3.3.7/js/bootstrap.js"></script>
    <link rel="stylesheet" href="/webjars/bootstrap/3.3.7/css/bootstrap.css">
    <style type="text/css" >
    </style>
    <script>
        function init(){
            var num=$("#init").val();
            $("#sub").empty();
            var model=$("#initModel").html();
            var ih="";
            for(var i=0;i<num;i++){
               var m= model.replace("{id1}",i).replace("{id2}",i+"v");
                ih+=m;
            }
            ih+= $("#initModel1").html();
            $("#sub").html(ih);
        }
        function submitm(){
            var num=$("#init").val();
            var m1=$("#0").val();
            var name1=$("#0v").val();
            for(var i=1;i<num;i++){
                var a="#"+i;
                var b="#"+i+"v";
                 m1+=","+$(a).val();
                 name1+=","+$(b).val();
            }
            alert(m1);
            alert(name1);
            $.ajax({
                url: "/hos/cj",
                type: "post",
                data: {
                    m: m1,
                    name: name1
                },
                success: function (re) {
                        for(var j  in re){
                            for(var temp in re[j]){
                                alert(temp);
                                alert(re[j].temp);
                            }
                        }
                }
            });
        }
    </script>
</head>

<body style="width: 1000px;margin: 0 auto">
<div id="sys_content" style="width: 400px;margin-top: 100px;float: left">
    <div class="input-group">
        <span class="input-group-addon" id="basic-addon1">产品分类数</span>
        <input type="number" id="init" class="form-control" placeholder="产品分类数" aria-describedby="basic-addon1" onchange="init()">
        <button>初始化</button>
    </div>

    <form class="form-horizontal" id="sub">

    </form>
</div>
<div id="right" style="float: left;margin-left: 50px;margin-top: 100px;">
    <div>
        <h4>组合建议</h4>
    </div>
    <form class="form-horizontal" >
        <div class="form-group">
            <label for="inputEmail3" class="col-sm-2 control-label">Email</label>
            <div class="col-sm-10">
                <input type="email" class="form-control" id="inputEmail3" placeholder="Email">
            </div>
        </div>
        <div class="form-group">
            <label for="inputPassword3" class="col-sm-2 control-label">Password</label>
            <div class="col-sm-10">
                <input type="password" class="form-control" id="inputPassword3" placeholder="Password">
            </div>
        </div>
    </form>
</div>
<div id="initModel" style="display: none;">
    <div class="form-group">
        <input type="text" value="" id="{id1}" class="col-sm-8 control-label" placeholder="产品名字"/>
        <div class="col-sm-4">
            <input type="text"  id="{id2}"  class="form-control" placeholder="产品数">
        </div>
    </div>
</div>
<div id="initModel1" style="display: none;">
    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10" >
            <button  class="btn btn-success" onclick="submitm()" >提交</button>
        </div>
    </div>
</div>
</body>
</html>